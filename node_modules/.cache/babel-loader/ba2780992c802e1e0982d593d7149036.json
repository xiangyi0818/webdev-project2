{"ast":null,"code":"var _jsxFileName = \"/Users/xiangyizhou/Desktop/NEU/CS5610/project2/project2/src/Reducer.js\";\nimport { combineReducers } from 'redux';\nimport { useSelector } from 'react-redux';\nimport { useAlert } from 'react-alert'; // export default combineReducers({\n//     toComplete:ToCompleteReducer,\n//     completed:CompletedReducer,\n// })\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function mainReducer(state = {\n  toComplete: [],\n  completed: [],\n  dimensions: 4,\n  stateRange: 3,\n  numView: 12,\n  cardToRemove: [],\n  hasRemove: 1,\n  gameMode: 1\n}, action) {\n  return {\n    toComplete: ToCompleteReducer(state, action),\n    completed: CompletedReducer(state, action),\n    dimensions: dimensionsReducer(state, action),\n    stateRange: state.stateRange,\n    numView: numViewReducer(state, action),\n    cardToRemove: CardToRemoveReducer(state, action),\n    hasRemove: HasRemoveReducer(state, action),\n    gameMode: gameModeReducer(state, action)\n  };\n}\n\nlet HasRemoveReducer = (state, action) => {\n  if (action.type === \"FIND_VALID\") {\n    return 1;\n  } else if (action.type === \"NO_VALID\") {\n    return 2;\n  } else if (action.type === \"ADD_THREE_VIEW\") {\n    return 0;\n  } else if (action.type === \"TRY_REMOVE\" && verifyRemove(action.cardToRemove)) {\n    return 0;\n  } else if (action.type === \"START_GAME\") {\n    return 0;\n  }\n\n  return state.hasRemove;\n};\n\n_c = HasRemoveReducer;\n\nlet dimensionsReducer = (state, action) => {\n  if (action.type === \"EASY\") {\n    return 3;\n  } else if (action.type === \"MEDIUM\" || action.type === \"HARD\") {\n    return 4;\n  } else {\n    return state.dimensions;\n  }\n};\n\nlet numViewReducer = (state, action) => {\n  if (action.type === \"ADD_THREE_VIEW\") {\n    return state.numView + 3;\n  } else if (action.type === \"START_GAME\") {\n    return 12;\n  }\n\n  return state.numView;\n};\n\nlet gameModeReducer = (state, action) => {\n  if (action.type === \"EASY\") {\n    console.log(\"change to easy\");\n    return 0;\n  } else if (action.type === \"MEDIUM\") {\n    console.log(\"change to medium\");\n    return 1;\n  } else if (action.type === \"HARD\") {\n    return 2;\n  }\n\n  return state.gameMode;\n};\n\nfunction ToCompleteReducer(state, action) {\n  let toComplete = state.toComplete;\n  let DIMENSIONS = state.dimensions;\n  let STATERANGE = state.stateRange;\n\n  if (action.type === \"TRY_REMOVE\") {\n    if (verifyRemove(action.cardToRemove)) {\n      let newToComplete = [];\n\n      for (const card of toComplete) {\n        if (isSameCard(card, action.cardToRemove[0]) || isSameCard(card, action.cardToRemove[1]) || isSameCard(card, action.cardToRemove[2])) {\n          continue;\n        }\n\n        newToComplete.push(card);\n      }\n\n      alert(\"it's a valid set!\");\n\n      if (newToComplete.length === 0) {\n        /*#__PURE__*/\n        _jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\\"Congratulations!\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this);\n      }\n\n      return newToComplete;\n    } else {\n      alert(\"it's not a valid set!\");\n      return toComplete;\n    }\n  } else if (action.type === \"START_GAME\") {\n    return GenerateInitialCards({\n      dimensions: DIMENSIONS,\n      stateRange: STATERANGE\n    });\n  } else {\n    return toComplete;\n  }\n}\n\n_c2 = ToCompleteReducer;\n\nfunction CompletedReducer(state, action) {\n  let completed = state.completed;\n\n  if (action.type === \"TRY_REMOVE\") {\n    if (verifyRemove(action.cardToRemove)) {\n      return [...completed, ...action.cardToRemove];\n    } else {\n      return completed;\n    }\n  } else if (action.type === \"START_GAME\") {\n    return [];\n  } else {\n    return completed;\n  }\n}\n\n_c3 = CompletedReducer;\n\nconst CardToRemoveReducer = (state, action) => {\n  const cardToRemove = state.cardToRemove;\n\n  if (action.type === \"AddCardToRemove\") {\n    for (let card of cardToRemove) {\n      if (isSameCard(card, action.card)) {\n        // console.log(card)\n        // console.log(action.card)\n        return cardToRemove;\n      }\n    }\n\n    let newCardToRemove = [...cardToRemove, action.card];\n    return newCardToRemove;\n  } else if (action.type === \"TRY_REMOVE\") {\n    return [];\n  } else if (action.type === \"START_GAME\") {\n    return [];\n  } else {\n    // console.log(\"not add new\")\n    return cardToRemove;\n  }\n};\n\n_c4 = CardToRemoveReducer;\n\nconst GenerateInitialCards = props => {\n  // let DIMENSIONS=useSelector(state=>state.dimensions);\n  // let STATERANGE=useSelector(state=>state.stateRange);\n  const DIMENSIONS = props.dimensions;\n  const STATERANGE = props.stateRange;\n  let i = 0;\n  let initialState = [[]];\n\n  while (i < DIMENSIONS) {\n    let temp = [];\n\n    for (let j = 0; j < STATERANGE; j++) {\n      initialState.forEach((item, index) => temp.push([...item, j]));\n    }\n\n    initialState = temp;\n    i++;\n  }\n\n  while (i < 4) {\n    let temp = [];\n\n    for (let j = 0; j < 1; j++) {\n      initialState.forEach((item, index) => temp.push([...item, j]));\n    }\n\n    initialState = temp;\n    i++;\n  }\n\n  shuffleArray(initialState);\n  return initialState;\n};\n\n_c5 = GenerateInitialCards;\nexport function verifyRemove(cardToRemove) {\n  // console.log(cardToRemove)\n  // console.log(cardToRemove == undefined || cardToRemove.length !== 3)\n  if (cardToRemove === undefined || cardToRemove.length !== 3) {\n    return false;\n  }\n\n  for (let i = 0; i < cardToRemove[0].length; i++) {\n    let map = new Map();\n\n    for (const card of cardToRemove) {\n      map.set(card[i], 1);\n    } // console.log(map)\n\n\n    if (map.size === 2) {\n      // console.log(\"cannot remove\")\n      return false;\n    }\n  }\n\n  return true;\n}\nexport const isSameCard = (card1, card2) => {\n  // let card1 = props.card1\n  // let card2 = props.card2\n  // console.log(\"check same card\")\n  // console.log([card1, card2, card1.length])\n  for (let i = 0; i < card1.length; i++) {\n    // console.log([card1[i], card2[i]])\n    if (card1[i] !== card2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n}\n\nexport function isInToRemove(card, cardToRemove) {\n  // console.log(card, cardToRemove)\n  for (let removeCard of cardToRemove) {\n    if (isSameCard(card, removeCard)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"HasRemoveReducer\");\n$RefreshReg$(_c2, \"ToCompleteReducer\");\n$RefreshReg$(_c3, \"CompletedReducer\");\n$RefreshReg$(_c4, \"CardToRemoveReducer\");\n$RefreshReg$(_c5, \"GenerateInitialCards\");","map":{"version":3,"sources":["/Users/xiangyizhou/Desktop/NEU/CS5610/project2/project2/src/Reducer.js"],"names":["combineReducers","useSelector","useAlert","mainReducer","state","toComplete","completed","dimensions","stateRange","numView","cardToRemove","hasRemove","gameMode","action","ToCompleteReducer","CompletedReducer","dimensionsReducer","numViewReducer","CardToRemoveReducer","HasRemoveReducer","gameModeReducer","type","verifyRemove","console","log","DIMENSIONS","STATERANGE","newToComplete","card","isSameCard","push","alert","length","GenerateInitialCards","newCardToRemove","props","i","initialState","temp","j","forEach","item","index","shuffleArray","undefined","map","Map","set","size","card1","card2","array","Math","floor","random","isInToRemove","removeCard"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport {useSelector } from 'react-redux'\nimport { useAlert } from 'react-alert';\n\n// export default combineReducers({\n//     toComplete:ToCompleteReducer,\n//     completed:CompletedReducer,\n// })\n\nexport default function mainReducer(\n    state={\n    toComplete:[],\n    completed:[],\n    dimensions:4,\n    stateRange:3,\n    numView:12,\n    cardToRemove:[],\n    hasRemove:1,\n    gameMode:1,\n    },\n    action) {\n    return {\n        toComplete:ToCompleteReducer(state, action),\n         completed:CompletedReducer(state, action),\n         dimensions:dimensionsReducer(state, action),\n         stateRange:state.stateRange,\n         numView:numViewReducer(state, action),\n         cardToRemove:CardToRemoveReducer(state, action),\n         hasRemove:HasRemoveReducer(state, action),\n         gameMode:gameModeReducer(state, action),\n        }\n}\n\nlet HasRemoveReducer = (state, action) => {\n    if (action.type === \"FIND_VALID\") {\n        return 1\n    }\n    else if (action.type === \"NO_VALID\") {\n        return 2\n    }\n    else if (action.type === \"ADD_THREE_VIEW\") {\n        return 0\n    }\n    else if (action.type === \"TRY_REMOVE\" && verifyRemove(action.cardToRemove)) {\n        return 0\n    }\n    else if (action.type === \"START_GAME\") {\n        return 0\n    }\n    return state.hasRemove\n}\n\nlet dimensionsReducer = (state, action) => {\n    if  (action.type === \"EASY\") {\n        return 3\n    }\n    else if (action.type === \"MEDIUM\" || action.type === \"HARD\") {\n        return 4\n    }\n    else {\n        return state.dimensions\n    }\n}\n\nlet numViewReducer = (state, action)=> {\n    if (action.type === \"ADD_THREE_VIEW\") {\n        return state.numView + 3\n    }\n    else if (action.type === \"START_GAME\") {\n        return 12\n    }\n    return state.numView\n}\n\nlet gameModeReducer = (state, action) => {\n    if (action.type === \"EASY\") {\n        console.log(\"change to easy\")\n        return 0\n    }\n    else if (action.type === \"MEDIUM\") {\n        console.log(\"change to medium\")\n        return 1\n    }\n    else if (action.type === \"HARD\") {\n        return 2\n    }\n    return state.gameMode\n}\n\nfunction ToCompleteReducer(state, action){\n    let toComplete = state.toComplete\n    let DIMENSIONS=state.dimensions\n    let STATERANGE=state.stateRange\n    if(action.type === \"TRY_REMOVE\"){\n        if (verifyRemove(action.cardToRemove)){\n            let newToComplete = [];\n            for(const card of toComplete){\n                if (isSameCard(card, action.cardToRemove[0]) || isSameCard(card, action.cardToRemove[1]) || isSameCard(card, action.cardToRemove[2])) {\n                    continue;\n                }\n                newToComplete.push(card);\n            }\n            alert(\"it's a valid set!\")\n            if(newToComplete.length === 0){\n                <div>\n                    <p>\"Congratulations!\"</p>\n                </div>\n            }\n            return newToComplete;\n        }\n        else{\n            alert(\"it's not a valid set!\")\n            return toComplete;\n        }\n    }\n    else if (action.type === \"START_GAME\"){\n        return GenerateInitialCards({dimensions:DIMENSIONS, stateRange:STATERANGE})\n    }\n    else{\n        return toComplete;\n    }\n}\n\nfunction CompletedReducer(state, action){\n    let completed = state.completed\n    if(action.type === \"TRY_REMOVE\"){\n        if (verifyRemove(action.cardToRemove)){\n            return [...completed, ...action.cardToRemove];\n        }\n        else{\n            return completed;\n        }\n    }\n    else if (action.type === \"START_GAME\"){\n        return [];\n    }\n    else{\n        return completed;\n    }\n}\n\nconst CardToRemoveReducer=(state, action) => {\n    const cardToRemove = state.cardToRemove;\n    if (action.type === \"AddCardToRemove\"){\n        for(let card of cardToRemove){\n            if(isSameCard(card, action.card)){\n                // console.log(card)\n                // console.log(action.card)\n                return cardToRemove\n            }\n        }\n        let newCardToRemove = [...cardToRemove, action.card]\n        return newCardToRemove\n    }\n    else if(action.type === \"TRY_REMOVE\"){\n        return []\n    }\n    else if(action.type === \"START_GAME\"){\n        return []\n    }\n    else{\n        // console.log(\"not add new\")\n        return cardToRemove;\n    }\n\n}\n\nconst GenerateInitialCards=(props) => {\n    // let DIMENSIONS=useSelector(state=>state.dimensions);\n    // let STATERANGE=useSelector(state=>state.stateRange);\n    const DIMENSIONS = props.dimensions;\n    const STATERANGE = props.stateRange;\n    let i = 0;\n    let initialState = [[]];\n    while (i < DIMENSIONS) {\n      let temp = [];\n      for (let j=0;j<STATERANGE;j++) {\n          initialState.forEach((item, index)=> temp.push([...item, j]))\n      }\n      initialState = temp;\n      i++;\n    }\n    while (i < 4) {\n        let temp = [];\n        for (let j=0;j<1;j++) {\n            initialState.forEach((item, index)=> temp.push([...item, j]))\n        }\n        initialState = temp;\n        i++;\n      }\n    shuffleArray(initialState)\n    return initialState\n  }\n\nexport function verifyRemove(cardToRemove) {\n    // console.log(cardToRemove)\n    // console.log(cardToRemove == undefined || cardToRemove.length !== 3)\n    if (cardToRemove === undefined || cardToRemove.length !== 3) {\n        return false\n    }\n    for (let i=0;i<cardToRemove[0].length;i++) {\n        let map = new Map();\n        for(const card of cardToRemove) {\n            map.set(card[i], 1);\n        }\n        // console.log(map)\n        if (map.size === 2) {\n            // console.log(\"cannot remove\")\n            return false;\n        }\n    }\n    return true;\n}\n\nexport const isSameCard = (card1, card2) => {\n    // let card1 = props.card1\n    // let card2 = props.card2\n    // console.log(\"check same card\")\n    // console.log([card1, card2, card1.length])\n    for(let i=0;i<card1.length;i++){\n        // console.log([card1[i], card2[i]])\n        if (card1[i] !== card2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction shuffleArray(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n}\n\nexport function isInToRemove(card, cardToRemove){\n    // console.log(card, cardToRemove)\n    for (let removeCard of cardToRemove){\n        if(isSameCard(card,removeCard)){\n            return true\n        }\n    }\n    return false\n}"]},"metadata":{},"sourceType":"module"}