{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { combineReducers } from 'redux';\nexport default combineReducers({\n  toComplete: ToCompleteReducer,\n  completed: CompletedReducer\n});\n\nfunction ToCompleteReducer(toComplete = [], action) {\n  if (action.type === \"TRY_REMOVE\") {\n    if (verifyRemove(action.cardToRemove)) {\n      let newToComplete = [];\n      let card;\n\n      for (let i = 0; i < toComplete.size; i++) {\n        card = toComplete[i];\n\n        if (isSameCard(card, action.cardToRemove[0]) || isSameCard(card, action.cardToRemove[1]) || isSameCard(card, action.cardToRemove[2])) {\n          continue;\n        }\n\n        newToComplete.push(card);\n      }\n\n      return newToComplete;\n    } else {\n      return toComplete;\n    }\n  } else if (action.type === \"START_GAME\") {\n    return generateInitialCards();\n  } else {\n    return toComplete;\n  }\n}\n\n_c = ToCompleteReducer;\n\nfunction CompletedReducer(completed = [], action) {\n  if (action.type === \"TRY_REMOVE\") {\n    if (verifyRemove(action.cardToRemove)) {\n      return [...completed, ...action.cardToRemove];\n    } else {\n      return completed;\n    }\n  } else if (action.type === \"START_GAME\") {\n    return [];\n  } else {\n    return completed;\n  }\n}\n\n_c2 = CompletedReducer;\n\nfunction generateInitialCards() {\n  _s();\n\n  DIMENSIONS = useSelector(state => state.dimensions);\n  STATERANGE = useSelector(state => state.stateRange);\n  i = 0;\n  let initialState = [[]];\n\n  while (i < DIMENSIONS) {\n    let temp = [];\n    let card;\n\n    for (j = 0; j < STATERANGE; j++) {\n      temp.push([...card, j]);\n      initialState.forEach((item, index) => temp.push([...item, j]));\n    }\n\n    initialState = temp;\n    i++;\n  }\n\n  return initialState;\n}\n\n_s(generateInitialCards, \"cUHRU3MzAg4zwGveL0Rf2UZhKmU=\", true);\n\nexport function verifyRemove(cardToRemove) {\n  let numDifferent = 0;\n\n  for (i = 0; i < cardToRemove[0].size; i++) {\n    let map = new Map();\n    let card;\n\n    for (j = 0; j < 3; j++) {\n      card = cardToRemove[j];\n      map.set(card[i], 1);\n    }\n\n    if (map.size == 2) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isSameCard(card1, card2) {\n  for (i = 0; i < card1.size; i++) {\n    if (card1[i] != card2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ToCompleteReducer\");\n$RefreshReg$(_c2, \"CompletedReducer\");","map":{"version":3,"sources":["/Users/xiangyizhou/Desktop/NEU/CS5610/project2/project2/src/Reducer.js"],"names":["combineReducers","toComplete","ToCompleteReducer","completed","CompletedReducer","action","type","verifyRemove","cardToRemove","newToComplete","card","i","size","isSameCard","push","generateInitialCards","DIMENSIONS","useSelector","state","dimensions","STATERANGE","stateRange","initialState","temp","j","forEach","item","index","numDifferent","map","Map","set","card1","card2"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\n\nexport default combineReducers({\n    toComplete:ToCompleteReducer,\n    completed:CompletedReducer,\n\n})\n\nfunction ToCompleteReducer(toComplete=[], action){\n    if(action.type === \"TRY_REMOVE\"){\n        if (verifyRemove(action.cardToRemove)){\n            let newToComplete = [];\n            let card;\n            for(let i=0;i< toComplete.size;i++){\n                card = toComplete[i];\n                if (isSameCard(card, action.cardToRemove[0]) || isSameCard(card, action.cardToRemove[1]) || isSameCard(card, action.cardToRemove[2])) {\n                    continue;\n                }\n                newToComplete.push(card);\n            }\n            return newToComplete;\n        }\n        else{\n            return toComplete;\n        }\n    }\n    else if (action.type === \"START_GAME\"){\n        return generateInitialCards()\n    }\n    else{\n        return toComplete;\n    }\n}\n\nfunction CompletedReducer(completed=[], action){\n    if(action.type === \"TRY_REMOVE\"){\n        if (verifyRemove(action.cardToRemove)){\n            return [...completed, ...action.cardToRemove];\n        }\n        else{\n            return completed;\n        }\n    }\n    else if (action.type === \"START_GAME\"){\n        return [];\n    }\n    else{\n        return completed;\n    }\n}\n\nfunction generateInitialCards(){\n    DIMENSIONS=useSelector(state=>state.dimensions);\n    STATERANGE=useSelector(state=>state.stateRange);\n    i = 0;\n    let initialState = [[]];\n    while (i < DIMENSIONS) {\n      let temp = [];\n      let card;\n      for (j=0;j<STATERANGE;j++) {\n          temp.push([...card, j]);\n          initialState.forEach((item, index)=> temp.push([...item, j]))\n      }\n      initialState = temp;\n      i++;\n    }\n    return initialState\n  }\n\nexport function verifyRemove(cardToRemove) {\n    let numDifferent = 0;\n    for (i=0;i<cardToRemove[0].size;i++) {\n        let map = new Map();\n        let card;\n        for(j=0;j<3;j++) {\n            card = cardToRemove[j];\n            map.set(card[i], 1);\n        }\n        if (map.size == 2) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction isSameCard(card1, card2){\n    for(i=0;i<card1.size;i++){\n        if (card1[i] != card2[i]) {\n            return false;\n        }\n    }\n    return true;\n}"]},"metadata":{},"sourceType":"module"}